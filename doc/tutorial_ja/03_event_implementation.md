# イベントの実装

## イベントクラスの定義

モデルへのすべての変更はイベントを通じて実行されます。各タイプの変更には対応するイベントクラスが必要です。例えば、銀行口座の残高変更を処理するために、以下のようなイベントクラスを定義します：

```Smalltalk
HsValueChanged << #HtBankAccountBalanceChanged
    slots: {};
    package: 'Historia-Examples-SimpleBank'
```

- `HsValueChanged`は、モデルの値の変更を表現するイベントの基底クラスです。
- `slots`は、イベントに必要な追加データを定義するために使用できます。ほとんどの場合、追加データは必要ありません。なぜなら、スーパークラスが既にコンテキスト、引数、ユーザー ID などの一般的なイベント値を保持するためのスロットを定義しているためです。

イベントクラスを定義した後、イベントのシリアライザとデシリアライザが正しく機能するように、明示的に登録する必要があります。登録がない場合、フレームワークはイベントを処理できません。以下のようしてイベントを Playground で登録できます：

```Smalltalk
HtBankAccountBalanceChanged register
```
