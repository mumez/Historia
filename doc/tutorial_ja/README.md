# Historia フレームワークチュートリアル

このチュートリアルでは、サンプルの銀行口座アプリケーションを構築しながら、Historia フレームワークの使用方法を説明します。チュートリアルは 12 の章に分かれており、各章でフレームワークの特定の側面に焦点を当てています。

## 章の概要

### 1. [はじめに](01_introduction.md)

フレームワークの概要を説明し、アプリケーション開発に必要な 3 つの主要なクラスタイプを紹介します：

- モデル：コアとなるデータ構造を表現
- イベント：モデルへの変更を表現
- モデルスペース：モデルのライフサイクルと状態を管理

### 2. [モデルの実装](02_model_implementation.md)

モデルクラス（`HtBankAccount`）の属性と初期化メソッドの定義方法を示します。モデル属性の定義におけるスロットの使用方法と、適切な初期化の重要性について説明します。

### 3. [イベントの実装](03_event_implementation.md)

モデルへの変更を表現するイベントクラス（`HtBankAccountBalanceChanged`）の作成方法を実演します。イベントの登録と、モデルの変更追跡におけるイベントの役割について説明します。

### 4. [モデルスペースの実装](04_modelspace_implementation.md)

モデルを管理するためのモデルスペース（`HtBankAccountSpace`）の作成方法を説明します。モデルスペースの主要な機能、集約、ライフサイクル管理、イベント再生について説明します。

### 5. [変更（ミューテーション）](05_mutations.md)

フレームワークにおける変更の実装プロセスを詳しく説明します。以下の方法を示します：

- モデルでの変更メソッドの定義
- イベント適用メソッドの作成
- イベントを通じたモデル状態の更新

### 6. [モデルスペースへの登録](06_modelspace_registration.md)

モデルをモデルスペースに登録する方法を説明します。以下について説明します：

- モデルスペースインスタンスの作成
- 一意の ID を持つモデルの登録
- イベント駆動の登録プロセス

### 7. [ドメインアクション](07_domain_actions.md)

モデルスペースでのドメイン固有のアクションの実装方法を示します。以下を含みます：

- 残高の取得
- 入金操作
- 出金操作
- エラー処理の考慮事項

### 8. [イベントの取得](08_event_retrieval.md)

フレームワークでのイベントの取得と管理方法を説明します。以下について説明します：

- すべてのイベントへのアクセス
- 最近のイベントバージョンの取得
- 大量のイベントの管理

### 9. [スナップショット](09_snapshots.md)

効率的な状態管理のためのスナップショットの使用方法を説明します。以下を含みます：

- スナップショットの保存
- スナップショットの読み込み
- スナップショットバージョンの管理

### 10. [イベント再生](10_event_replay.md)

イベント再生によるモデルスペースの状態復元方法を示します。以下について説明します：

- 新しいモデルスペースインスタンスの作成
- 同期のためのキャッチアップの使用
- 自動的な状態更新

### 11. [タイムトラベル](11_time_traveling.md)

モデルスペースの過去の状態を探索する方法を説明します。以下を含みます：

- イベントバージョンの取得
- `goTo:`メソッドの使用
- 差分再生による最適化

### 12. [EventBridge を使用した連携](12_eventbridge_collaboration.md)

モデルスペース間の通信のための EventBridge の使用方法を実演します。以下について説明します：

- カスタムブリッジの作成
- 通知イベントの処理
- 振り込み機能の実装
- 変更イベントの監査

## はじめに

チュートリアルを始めるには：

1. 基本概念を理解するために「はじめに」の章から始めます
2. 銀行口座アプリケーションを構築するために各章を順番に進めます
3. 各章は前の章の内容に基づいているため、順番に完了することをお勧めします
